{"version":3,"sources":["LoginButton.js","App.js","index.js"],"names":["LoginButton","props","toggleLoggedIn","setState","state","isLoggedIn","onSignIn","googleUser","user","getBasicProfile","id_token","getAuthResponse","console","log","renderGoogleLoginButton","window","gapi","signin2","render","scope","width","height","longtitle","theme","onsuccess","logout","auth2","getAuthInstance","signOut","then","catch","err","addEventListener","this","id","style","textAlign","onClick","React","Component","App","className","ReactDOM","document","getElementById"],"mappings":"2LA8EeA,E,kDA3Eb,WAAYC,GAAQ,IAAD,8BACjB,cAAMA,IAMRC,eAAiB,kBACf,EAAKC,UAAS,SAAAC,GACZ,MAAO,CAAEC,YAAaD,EAAMC,gBATb,EAYnBC,SAAW,SAAAC,GACT,EAAKL,iBAEL,IAAIM,EAAOD,EAAWE,kBAClBC,EAAWH,EAAWI,kBAAkBD,SAE5CE,QAAQC,IAAI,kBAAmBL,GAC/BI,QAAQC,IAAI,kBAAmBH,IAnBd,EAuBnBI,wBAA0B,WACxBF,QAAQC,IAAI,kCACZE,OAAOC,KAAKC,QAAQC,OAAO,aAAc,CACvCC,MAAO,gBACPC,MAAO,IACPC,OAAQ,GACRC,WAAW,EACXC,MAAO,QACPC,UAAW,EAAKlB,YA/BD,EAmCnBmB,OAAS,WACPb,QAAQC,IAAI,aAEZ,IAAIa,EAAQX,OAAOC,MAAQD,OAAOC,KAAKU,MAAMC,kBACzCD,EACFA,EACGE,UACAC,MAAK,WACJ,EAAK3B,iBACLU,QAAQC,IAAI,8BAEbiB,OAAM,SAAAC,GACLnB,QAAQC,IAAI,0BAA2BkB,MAG3CnB,QAAQC,IAAI,4BAhDd,EAAKT,MAAQ,CACXC,YAAY,GAHG,E,qDAsDnB,WACEU,OAAOiB,iBAAiB,gBAAiBC,KAAKnB,yBAC9CC,OAAOC,MAAQiB,KAAKnB,4B,oBAGtB,WAEE,OACE,gCACE,qBAAKoB,GAAG,eACR,uBACCD,KAAK7B,MAAMC,YACV,wBAAQ8B,MAAO,CAAEf,MAAO,IAAKC,OAAQ,GAAIe,UAAW,UAAYC,QAASJ,KAAKR,OAA9E,2B,GAnEgBa,IAAMC,WCC1BC,E,4JACF,WACI,OACI,qBAAKC,UAAU,MAAf,SACI,cAAC,EAAD,U,GAJEF,aAUHC,ICTfE,IAASxB,OACP,cAAC,EAAD,IACAyB,SAASC,eAAe,W","file":"static/js/main.0f18ab2b.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nclass LoginButton extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isLoggedIn: false\r\n    };\r\n  }\r\n\r\n  toggleLoggedIn = () =>\r\n    this.setState(state => {\r\n      return { isLoggedIn: !state.isLoggedIn };\r\n    });\r\n\r\n  onSignIn = googleUser => {\r\n    this.toggleLoggedIn();\r\n\r\n    let user = googleUser.getBasicProfile();\r\n    let id_token = googleUser.getAuthResponse().id_token;\r\n\r\n    console.log('google user obj', user);\r\n    console.log('google_id_token', id_token);\r\n    // plus any other logic here\r\n  };\r\n\r\n  renderGoogleLoginButton = () => {\r\n    console.log('rendering google signin button');\r\n    window.gapi.signin2.render('my-signin2', {\r\n      scope: 'profile email',\r\n      width: 250,\r\n      height: 40,\r\n      longtitle: true,\r\n      theme: 'light',\r\n      onsuccess: this.onSignIn\r\n    });\r\n  };\r\n\r\n  logout = () => {\r\n    console.log('in logout');\r\n\r\n    let auth2 = window.gapi && window.gapi.auth2.getAuthInstance();\r\n    if (auth2) {\r\n      auth2\r\n        .signOut()\r\n        .then(() => {\r\n          this.toggleLoggedIn();\r\n          console.log('Logged out successfully');\r\n        })\r\n        .catch(err => {\r\n          console.log('Error while logging out', err);\r\n        });\r\n    } else {\r\n      console.log('error while logging out');\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('google-loaded', this.renderGoogleLoginButton);\r\n    window.gapi && this.renderGoogleLoginButton();\r\n  }\r\n\r\n  render() {\r\n    // noinspection CheckTagEmptyBody\r\n    return (\r\n      <div>\r\n        <div id=\"my-signin2\"></div>\r\n        <br />\r\n        {this.state.isLoggedIn && (\r\n          <button style={{ width: 200, height: 40, textAlign: 'center' }} onClick={this.logout}>\r\n            Logout\r\n          </button>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default LoginButton;","import React, {Component} from \"react\";\nimport LoginButton from \"./LoginButton\";\n\nclass App extends Component {\n    render() {\n        return (\n            <div className=\"App\">\n                <LoginButton/>\n            </div>\n        );\n    }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}